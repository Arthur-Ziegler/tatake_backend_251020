# 奖励系统 API

## 目录

- [1. 查看我的奖品](#1-查看我的奖品)
- [2. 查看我的积分](#2-查看我的积分)
- [3. 充值界面（兑换奖品）](#3-充值界面兑换奖品)

---

## 1. 查看我的奖品

**GET** `/rewards/prizes`

**功能描述**: 查看我的奖品 - 微服务代理
获取用户的所有奖品记录，包括已领取和未领取的奖品。

**认证**: 【必需】需要Bearer Token

**查询参数**: 无

**响应格式**:
```json
{
  "code": 200,
  "message": "查询成功",
  "data": {
    "prizes": [
      {
        "id": "string",          // 奖品ID
        "name": "string",        // 奖品名称
        "description": "string", // 奖品描述
        "value": "integer"      // 奖品价值
      }
    ]
  }
}
```

---

## 2. 查看我的积分

**GET** `/rewards/points`

**功能描述**: 查看我的积分 - 微服务代理
获取用户的积分余额和积分历史记录。

**认证**: 【必需】需要Bearer Token

**查询参数**: 无

**响应格式**:
```json
{
  "code": 200,
  "message": "查询成功",
  "data": {
    "current_balance": "integer",  // 当前积分余额
    "total_earned": "integer",     // 累计获得积分
    "total_spent": "integer"      // 累计消费积分
  }
}
```

---

## 3. 充值界面（兑换奖品）

**POST** `/rewards/redeem`

**功能描述**: 充值界面（兑换奖品） - 微服务代理
使用兑换码兑换奖品。

**认证**: 【必需】需要Bearer Token

**请求参数**:
```json
{
  "code": "string"  // 【必填】兑换码，长度1-100字符
}
```

**字段要求**:
- `code`: 【必填】兑换码字符串，最小长度1，最大长度100

**验证规则**:
- 兑换码必须是有效且未使用的
- 兑换码不能已过期
- 同一个用户不能重复兑换同一个兑换码

**响应格式**:
```json
{
  "code": 200,
  "message": "兑换成功",
  "data": {
    "prize": {
      "id": "string",          // 奖品ID
      "name": "string",        // 奖品名称
      "description": "string", // 奖品描述
      "value": "integer"       // 奖品价值
    },
    "quantity": 10,       // 奖品数量
    "redeemed_at": "string"        // 兑换时间
  }
}
```

- 当前两个用于测试到兑换码 points 可以获取积分；mac 可以领取 macbook 奖品

---

